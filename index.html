<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Will Thorley — Profile + Hockey Game</title>
  <style>
    :root{
      --bg:#0b63d6;
      --card:#fff;
    }
    body{
      font-family:Inter,system-ui,Arial,sans-serif;
      background:var(--bg);
      color:#fff;
      margin:0;
    }
    .corner-profile{
      position:fixed;top:12px;right:12px;
      display:flex;align-items:center;gap:8px;
    }
    .corner-profile img{
      width:56px;height:56px;border-radius:50%;
      border:2px solid rgba(255,255,255,0.6);
      object-fit:cover;
    }
    .container{max-width:980px;margin:90px auto;padding:24px}
    .card{
      background:#fff;color:#000;
      padding:18px;border-radius:12px;
      box-shadow:0 6px 18px rgba(15,23,42,0.2);
      margin-bottom:18px;
    }
    .stats-grid{display:flex;gap:18px;margin:12px 0}
    .stats-grid>div{
      background:#f9fafb;padding:12px;border-radius:8px;
      min-width:90px;text-align:center;
    }
    #gameCard { text-align:center; }
    #gameCanvas {
      background:#e5e7eb;
      border:3px solid #333;
      border-radius:8px;
      display:block;margin:10px auto;
    }
    button {
      background:#0b63d6;color:#fff;
      padding:8px 16px;margin:4px;
      border:none;border-radius:6px;
      cursor:pointer;font-weight:600;
    }
    button:hover{background:#084a9c;}
  </style>
</head>
<body>
  <header class="corner-profile">
    <img id="profilePic" src="assets/profile.jpg" alt="Will Thorley" />
    <div id="profileName">Will Thorley</div>
  </header>

  <main class="container">
    <section class="card">
      <h2>Boston Advantage 2012 Elite — Season Summary</h2>
      <div class="stats-grid">
        <div><strong>Wins</strong><div id="wins">2</div></div>
        <div><strong>Losses</strong><div id="losses">1</div></div>
        <div><strong>Ties</strong><div id="ties">2</div></div>
      </div>
    </section>

    <section id="gameCard" class="card">
      <h2>Mini Hockey Game</h2>
      <div id="menu">
        <p>Select Mode:</p>
        <button onclick="startGame('1p')">1 Player vs AI</button>
        <button onclick="startGame('2p')">2 Players</button>
      </div>
      <div id="scoreboard" style="display:none;">
        <strong>Player 1:</strong> <span id="p1Score">0</span> |
        <strong>Player 2/AI:</strong> <span id="p2Score">0</span>
        <button onclick="resetGame()">Home</button>
      </div>
      <canvas id="gameCanvas" width="500" height="300"></canvas>
    </section>
  </main>

  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    const menu = document.getElementById("menu");
    const scoreboard = document.getElementById("scoreboard");
    const p1ScoreEl = document.getElementById("p1Score");
    const p2ScoreEl = document.getElementById("p2Score");

    let keys = {};
    let gameInterval;
    let p1, p2, puck;
    let p1Score = 0, p2Score = 0;
    let gameMode = null;

    class Player {
      constructor(x,y,color,controls){
        this.x=x;this.y=y;this.color=color;this.controls=controls;
      }
      draw(){
        ctx.strokeStyle=this.color;ctx.lineWidth=3;
        // body
        ctx.beginPath();
        ctx.moveTo(this.x,this.y-15);
        ctx.lineTo(this.x,this.y+15);ctx.stroke();
        // head
        ctx.beginPath();ctx.arc(this.x,this.y-20,6,0,Math.PI*2);ctx.stroke();
        // arms
        ctx.beginPath();ctx.moveTo(this.x-10,this.y-5);ctx.lineTo(this.x+10,this.y-5);ctx.stroke();
        // legs
        ctx.beginPath();
        ctx.moveTo(this.x,this.y+15);ctx.lineTo(this.x-8,this.y+30);
        ctx.moveTo(this.x,this.y+15);ctx.lineTo(this.x+8,this.y+30);
        ctx.stroke();
        // stick
        ctx.beginPath();
        ctx.moveTo(this.x+10,this.y);
        ctx.lineTo(this.x+25,this.y+15);
        ctx.lineTo(this.x+40,this.y+15);
        ctx.stroke();
      }
      move(){
        if(keys[this.controls.up]) this.y-=3;
        if(keys[this.controls.down]) this.y+=3;
        if(keys[this.controls.left]) this.x-=3;
        if(keys[this.controls.right]) this.x+=3;
        this.x=Math.max(20,Math.min(canvas.width-20,this.x));
        this.y=Math.max(30,Math.min(canvas.height-20,this.y));
      }
    }

    class Puck {
      constructor(){
        this.reset();
      }
      reset(){
        this.x=canvas.width/2;this.y=canvas.height/2;
        this.vx=0;this.vy=0;this.r=6;
      }
      draw(){
        ctx.fillStyle="black";
        ctx.beginPath();
        ctx.arc(this.x,this.y,this.r,0,Math.PI*2);
        ctx.fill();
      }
      update(){
        this.x+=this.vx;this.y+=this.vy;
        this.vx*=0.99;this.vy*=0.99;
        if(this.x<this.r||this.x>canvas.width-this.r) this.vx*=-1;
        if(this.y<this.r||this.y>canvas.height-this.r) this.vy*=-1;
      }
    }

    function drawRink(){
      // outer rink
      ctx.strokeStyle="black";ctx.lineWidth=2;
      ctx.strokeRect(0,0,canvas.width,canvas.height);

      // center line
      ctx.strokeStyle="red";ctx.beginPath();
      ctx.moveTo(canvas.width/2,0);ctx.lineTo(canvas.width/2,canvas.height);ctx.stroke();

      // blue lines
      ctx.strokeStyle="blue";
      ctx.beginPath();ctx.moveTo(canvas.width/3,0);ctx.lineTo(canvas.width/3,canvas.height);ctx.stroke();
      ctx.beginPath();ctx.moveTo(2*canvas.width/3,0);ctx.lineTo(2*canvas.width/3,canvas.height);ctx.stroke();

      // faceoff circle
      ctx.strokeStyle="red";
      ctx.beginPath();ctx.arc(canvas.width/2,canvas.height/2,30,0,Math.PI*2);ctx.stroke();

      // goals
      ctx.fillStyle="lightgray";
      ctx.fillRect(0,canvas.height/2-30,10,60);
      ctx.fillRect(canvas.width-10,canvas.height/2-30,10,60);

      // goal creases
      ctx.strokeStyle="blue";
      ctx.beginPath();
      ctx.arc(10,canvas.height/2,30,-Math.PI/2,Math.PI/2);
      ctx.stroke();
      ctx.beginPath();
      ctx.arc(canvas.width-10,canvas.height/2,30,Math.PI/2,-Math.PI/2);
      ctx.stroke();
    }

    function startGame(mode){
      gameMode=mode;
      menu.style.display="none";
      scoreboard.style.display="block";
      p1Score=0;p2Score=0;updateScores();

      p1=new Player(80,canvas.height/2,"blue",
        {up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight"});
      if(mode==="2p"){
        p2=new Player(canvas.width-80,canvas.height/2,"red",
          {up:"w",down:"s",left:"a",right:"d"});
      }else{
        p2=new Player(canvas.width-80,canvas.height/2,"red",{});
      }
      puck=new Puck();
      clearInterval(gameInterval);
      gameInterval=setInterval(gameLoop,1000/60);
    }

    function resetGame(){
      clearInterval(gameInterval);
      menu.style.display="block";
      scoreboard.style.display="none";
      ctx.clearRect(0,0,canvas.width,canvas.height);
    }

    function updateScores(){
      p1ScoreEl.textContent=p1Score;
      p2ScoreEl.textContent=p2Score;
    }

    function gameLoop(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      drawRink();

      p1.move();p1.draw();
      if(gameMode==="2p"){p2.move();}
      else{ if(puck.y<p2.y) p2.y-=2; if(puck.y>p2.y) p2.y+=2; }
      p2.draw();

      puck.update();puck.draw();

      // shooting collision
      [p1,p2].forEach(pl=>{
        let dx=puck.x-pl.x, dy=puck.y-pl.y;
        let dist=Math.sqrt(dx*dx+dy*dy);
        if(dist<20){ puck.vx=dx*0.25; puck.vy=dy*0.25; }
      });

      // goals
      if(puck.x<puck.r+10 && puck.y>canvas.height/2-30 && puck.y<canvas.height/2+30){
        p2Score++;updateScores();puck.reset();
      }
      if(puck.x>canvas.width-puck.r-10 && puck.y>canvas.height/2-30 && puck.y<canvas.height/2+30){
        p1Score++;updateScores();puck.reset();
      }
    }

    window.addEventListener("keydown",e=>keys[e.key]=true);
    window.addEventListener("keyup",e=>keys[e.key]=false);
  </script>
</body>
</html>
